---
/**
 * PrivacySection Component
 *
 * Privacy-first messaging positioned as a trust guarantee.
 * CRO: Uses emotional storytelling - "Your competitive intelligence stays yours"
 * Shows deployment options: laptop, cloud, air-gapped
 */
import Section from '@/components/ui/Section.astro';
import Container from '@/components/ui/Container.astro';

interface DeployOption {
  id: string;
  title: string;
  description: string;
  icon: string;
}

const deployOptions: DeployOption[] = [
  {
    id: 'laptop',
    title: 'Your Laptop',
    description: 'Run locally during development. Perfect for evaluation and personal use.',
    icon: 'M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z',
  },
  {
    id: 'cloud',
    title: 'Private Cloud',
    description: 'Deploy on your AWS, GCP, or Azure infrastructure. Your VPC, your rules.',
    icon: 'M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z',
  },
  {
    id: 'airgapped',
    title: 'Air-Gapped',
    description: 'Fully disconnected environments. No internet required after setup.',
    icon: 'M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z',
  },
];

const privacyPoints = [
  'No data leaves your infrastructure',
  'No external API calls required',
  'No usage tracking or telemetry',
  'No vendor lock-in â€” you own the code',
];
---

<Section spacing="lg" background="muted" data-testid="privacy-section">
  <Container size="xl">
    <div class="grid gap-12 lg:grid-cols-2 lg:gap-16">
      <!-- Left: Emotional Story + Privacy Points -->
      <div class="flex flex-col justify-center">
        <span
          class="mb-4 inline-block text-sm font-semibold uppercase tracking-wider text-accent"
          data-testid="privacy-eyebrow"
        >
          Your Data. Your Control.
        </span>

        <h2
          class="mb-4 text-3xl font-bold tracking-tight text-foreground sm:text-4xl"
          data-testid="privacy-headline"
        >
          Your Competitive Intelligence Stays Yours
        </h2>

        <p
          class="mb-6 text-lg text-muted-foreground"
          data-testid="privacy-subhead"
        >
          In a world where AI tools send your prompts to third-party servers, Lattice is
          different. Deploy on your infrastructure, keep your research private, and never
          wonder who's reading your queries.
        </p>

        <!-- Privacy Points -->
        <ul class="space-y-3" data-testid="privacy-points">
          {
            privacyPoints.map((point, index) => (
              <li
                class="flex items-center gap-3 text-foreground"
                data-testid={`privacy-point-${index}`}
              >
                <svg
                  class="h-5 w-5 flex-shrink-0 text-success"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                  />
                </svg>
                <span>{point}</span>
              </li>
            ))
          }
        </ul>

        <!-- Emotional tagline -->
        <p
          class="mt-8 text-sm italic text-muted-foreground"
          data-testid="privacy-tagline"
        >
          "We built Lattice because we got tired of uploading sensitive vendor negotiations to
          tools we couldn't audit."
        </p>
      </div>

      <!-- Right: Deploy Anywhere Options -->
      <div class="flex flex-col justify-center">
        <h3
          class="mb-6 text-xl font-semibold text-foreground"
          data-testid="deploy-headline"
        >
          Deploy Anywhere
        </h3>

        <div class="space-y-4" data-testid="deploy-options">
          {
            deployOptions.map((option) => (
              <div
                class="flex gap-4 rounded-xl border border-border bg-background p-5 transition-all hover:border-accent/50 hover:shadow-md"
                data-testid={`deploy-option-${option.id}`}
              >
                <div class="flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-accent/10">
                  <svg
                    class="h-6 w-6 text-accent"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d={option.icon}
                    />
                  </svg>
                </div>
                <div>
                  <h4
                    class="font-semibold text-foreground"
                    data-testid={`deploy-title-${option.id}`}
                  >
                    {option.title}
                  </h4>
                  <p
                    class="text-sm text-muted-foreground"
                    data-testid={`deploy-description-${option.id}`}
                  >
                    {option.description}
                  </p>
                </div>
              </div>
            ))
          }
        </div>

        <!-- Trust badge -->
        <div
          class="mt-6 flex items-center gap-2 text-sm text-muted-foreground"
          data-testid="privacy-trust-badge"
        >
          <svg
            class="h-5 w-5 text-success"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
            />
          </svg>
          <span>100% self-hosted. Zero data collection. Full source code access.</span>
        </div>
      </div>
    </div>
  </Container>
</Section>
