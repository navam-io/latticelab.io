---
/**
 * ToolDemo component test page
 * Tests the interactive demo wrapper component
 */
import Layout from '../../layouts/Layout.astro';
import ToolDemo from '../../components/tools/ToolDemo.vue';
---

<Layout title="ToolDemo Test - Lattice">
  <main class="container mx-auto px-4 py-12">
    <h1 class="text-3xl font-bold mb-8" data-testid="page-title">ToolDemo Component Test</h1>

    <!-- Default Demo -->
    <section class="mb-12" data-testid="section-default">
      <h2 class="text-xl font-bold mb-4">Default Demo (Placeholder State)</h2>
      <ToolDemo
        client:load
        title="Memory Calculator"
        subtitle="Estimate GPU memory requirements"
        showPlaceholder={true}
        testId="tool-demo-default"
      />
    </section>

    <!-- Loading State -->
    <section class="mb-12" data-testid="section-loading">
      <h2 class="text-xl font-bold mb-4">Loading State</h2>
      <ToolDemo
        client:load
        title="TCO Calculator"
        isLoading={true}
        loadingText="Calculating costs..."
        testId="tool-demo-loading"
      />
    </section>

    <!-- Error State -->
    <section class="mb-12" data-testid="section-error">
      <h2 class="text-xl font-bold mb-4">Error State</h2>
      <ToolDemo
        client:load
        title="Spot Advisor"
        hasError={true}
        errorTitle="Connection Failed"
        errorMessage="Unable to fetch spot instance data. Please check your connection."
        testId="tool-demo-error"
      />
    </section>

    <!-- With Content Slot -->
    <section class="mb-12" data-testid="section-with-content">
      <h2 class="text-xl font-bold mb-4">With Demo Content</h2>
      <ToolDemo
        client:load
        title="Parallelism Advisor"
        subtitle="Configure distributed training"
        showPlaceholder={false}
        testId="tool-demo-content"
      >
        <div class="p-6 h-full flex items-center justify-center" data-testid="demo-slot-content">
          <div class="text-center">
            <p class="text-lg font-medium text-gray-900">Interactive Demo Content</p>
            <p class="text-gray-500">This is where the actual demo would render</p>
          </div>
        </div>
      </ToolDemo>
    </section>

    <!-- Small Height -->
    <section class="mb-12" data-testid="section-height-sm">
      <h2 class="text-xl font-bold mb-4">Small Height</h2>
      <ToolDemo
        client:load
        title="Quick Demo"
        height="sm"
        showPlaceholder={true}
        testId="tool-demo-sm"
      />
    </section>

    <!-- Large Height -->
    <section class="mb-12" data-testid="section-height-lg">
      <h2 class="text-xl font-bold mb-4">Large Height</h2>
      <ToolDemo
        client:load
        title="Full Demo"
        height="lg"
        showPlaceholder={true}
        testId="tool-demo-lg"
      />
    </section>

    <!-- Blue Color Scheme -->
    <section class="mb-12" data-testid="section-blue">
      <h2 class="text-xl font-bold mb-4">Blue Color Scheme</h2>
      <ToolDemo
        client:load
        title="Memory Calculator"
        colorScheme="blue"
        showPlaceholder={true}
        testId="tool-demo-blue"
      />
    </section>

    <!-- Emerald Color Scheme -->
    <section class="mb-12" data-testid="section-emerald">
      <h2 class="text-xl font-bold mb-4">Emerald Color Scheme</h2>
      <ToolDemo
        client:load
        title="TCO Calculator"
        colorScheme="emerald"
        showPlaceholder={true}
        testId="tool-demo-emerald"
      />
    </section>

    <!-- Rose Color Scheme -->
    <section class="mb-12" data-testid="section-rose">
      <h2 class="text-xl font-bold mb-4">Rose Color Scheme</h2>
      <ToolDemo
        client:load
        title="Spot Advisor"
        colorScheme="rose"
        showPlaceholder={true}
        testId="tool-demo-rose"
      />
    </section>

    <!-- With Footer -->
    <section class="mb-12" data-testid="section-with-footer">
      <h2 class="text-xl font-bold mb-4">With Footer and Docs Link</h2>
      <ToolDemo
        client:load
        title="Evaluation Framework"
        showPlaceholder={true}
        showFooter={true}
        footerText="Demo data is not persisted"
        docsLink="/docs/guides/evaluate-models"
        testId="tool-demo-footer"
      />
    </section>

    <!-- Without Header -->
    <section class="mb-12" data-testid="section-no-header">
      <h2 class="text-xl font-bold mb-4">Without Header</h2>
      <ToolDemo
        client:load
        showHeader={false}
        showPlaceholder={true}
        testId="tool-demo-no-header"
      />
    </section>

    <!-- Custom Placeholder -->
    <section class="mb-12" data-testid="section-custom-placeholder">
      <h2 class="text-xl font-bold mb-4">Custom Placeholder</h2>
      <ToolDemo
        client:load
        title="Quantization Advisor"
        showPlaceholder={true}
        placeholderTitle="Precision Analysis Ready"
        placeholderDescription="Analyze INT8, FP16, and INT4 quantization options for your model."
        placeholderIcon="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"
        startBtnText="Analyze Model"
        colorScheme="amber"
        testId="tool-demo-custom"
      />
    </section>

    <!-- With Fullscreen Button -->
    <section class="mb-12" data-testid="section-fullscreen">
      <h2 class="text-xl font-bold mb-4">With Fullscreen Button</h2>
      <ToolDemo
        client:load
        title="Accelerator Registry"
        showPlaceholder={true}
        showFullscreenBtn={true}
        testId="tool-demo-fullscreen"
      />
    </section>

    <!-- Without Start Button -->
    <section class="mb-12" data-testid="section-no-start">
      <h2 class="text-xl font-bold mb-4">Without Start Button</h2>
      <ToolDemo
        client:load
        title="Info Demo"
        showPlaceholder={true}
        showStartBtn={false}
        placeholderTitle="View Only Mode"
        placeholderDescription="This demo is for viewing information only."
        testId="tool-demo-no-start"
      />
    </section>
  </main>
</Layout>
