---
/**
 * NavDropdown Component Test Page
 * This page is used for testing the NavDropdown component in production.
 * Route: /test-utils/nav-dropdown
 */
import Layout from '@layouts/Layout.astro';
import NavDropdown from '@components/navigation/NavDropdown.vue';

// Define link arrays for each dropdown
const basicLinks = [
  { label: 'All Features', href: '/features', description: 'Overview of all features' },
  { label: 'Sources', href: '/features/sources', description: 'Knowledge Management' },
  { label: 'Lab', href: '/features/lab', description: 'AI-Powered Analysis' },
  { label: 'Studio', href: '/features/studio', description: 'Artifacts & Exports' }
];

const noDescLinks = [
  { label: 'Getting Started', href: '/docs/getting-started' },
  { label: 'Documentation', href: '/docs' },
  { label: 'API Reference', href: '/docs/api' },
  { label: 'Blog', href: '/blog' }
];

const compactLinks = [
  { label: 'Support', href: '/support' },
  { label: 'Contact', href: '/contact' },
  { label: 'Privacy', href: '/privacy' },
  { label: 'Terms', href: '/terms' }
];

const featuredLinks = [
  { label: 'Sources', href: '/features/sources', description: 'Multi-source ingestion with hybrid search and citation tracking', featured: true },
  { label: 'Lab', href: '/features/lab', description: 'AI-powered research and analysis agent' },
  { label: 'Studio', href: '/features/studio', description: 'Export artifacts and share insights' }
];

const badgesLinks = [
  { label: 'All Blueprints', href: '/blueprints', badge: '36' },
  { label: 'New Releases', href: '/blueprints/new', badge: 'New' },
  { label: 'Popular', href: '/blueprints/popular' },
  { label: 'By Category', href: '/blueprints/categories' }
];

const footerLinks = [
  { label: 'Documentation', href: '/docs', description: 'Technical guides and references' },
  { label: 'Blog', href: '/blog', description: 'Latest news and tutorials' },
  { label: 'Changelog', href: '/changelog', description: 'Latest updates in Lattice' }
];
const footerFooterLink = { label: 'View all resources', href: '/resources' };

const arrowsLinks = [
  { label: 'Home', href: '/' },
  { label: 'Features', href: '/features' },
  { label: 'Pricing', href: '/pricing' },
  { label: 'Contact', href: '/contact' }
];

const noTitleLinks = [
  { label: 'Profile', href: '/profile' },
  { label: 'Settings', href: '/settings' },
  { label: 'Sign Out', href: '/logout' }
];

const col1Links = [
  { label: 'All Features', href: '/features', featured: true },
  { label: 'Sources', href: '/features/sources', description: 'Knowledge Management' },
  { label: 'Lab', href: '/features/lab', description: 'AI-Powered Analysis' },
  { label: 'Studio', href: '/features/studio', description: 'Artifacts & Exports' },
  { label: 'Blueprints', href: '/features/blueprints', description: 'Curated Bundles', badge: '36' }
];

const col2Links = [
  { label: 'Scenarios', href: '/features/scenarios', description: 'Use Case Definition' },
  { label: 'Stacks', href: '/features/stacks', description: 'Infrastructure Config' },
  { label: 'Settings', href: '/features/settings', description: 'Customization' }
];

const col3Links = [
  { label: 'Getting Started', href: '/docs/getting-started' },
  { label: 'Documentation', href: '/docs' },
  { label: 'API Reference', href: '/docs/api' },
  { label: 'Blog', href: '/blog' },
  { label: 'Support', href: '/support' }
];
const col3FooterLink = { label: 'Compare Features', href: '/compare' };

const featuredMixLinks = [
  { label: 'Enterprise AI', href: '/solutions/enterprise', description: 'Scale AI across your organization', featured: true },
  { label: 'Research Teams', href: '/solutions/research', description: 'Accelerate discovery' },
  { label: 'Platform Teams', href: '/solutions/platform', description: 'Build AI infrastructure' },
  { label: 'Startups', href: '/solutions/startups', description: 'Ship faster with AI' }
];

const roleLinks = [
  { label: 'Research Engineers', href: '/solutions/research-engineers', description: 'Build and evaluate AI systems' },
  { label: 'Platform Leads', href: '/solutions/platform-leads', description: 'Infrastructure and operations' },
  { label: 'CTOs & Leaders', href: '/solutions/ctos', description: 'Strategic AI decisions' }
];

const workloadLinks = [
  { label: 'Chat Applications', href: '/solutions/chat', description: 'Conversational AI' },
  { label: 'RAG Systems', href: '/solutions/rag', description: 'Retrieval augmented generation' },
  { label: 'Agentic Workflows', href: '/solutions/agents', description: 'Autonomous AI agents' },
  { label: 'Embedding Pipelines', href: '/solutions/embeddings', description: 'Vector processing' }
];

const industryLinks = [
  { label: 'Enterprise AI', href: '/solutions/enterprise' },
  { label: 'Healthcare', href: '/solutions/healthcare' },
  { label: 'Finance', href: '/solutions/finance' },
  { label: 'Government', href: '/solutions/government' }
];
const industryFooterLink = { label: 'View all solutions', href: '/solutions' };
---

<Layout title="NavDropdown Test" description="NavDropdown component test page">
  <main class="container-custom py-12">
    <h1 class="text-3xl font-bold mb-8">NavDropdown Component Test</h1>

    <!-- Basic Usage -->
    <section class="mb-12" data-testid="basic-usage">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Basic Usage</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          title="Explore Lattice"
          links={basicLinks}
          testId="basic-dropdown"
        />
      </div>
    </section>

    <!-- Without Descriptions -->
    <section class="mb-12" data-testid="no-descriptions">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Without Descriptions</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          title="Quick Links"
          links={noDescLinks}
          showDescriptions={false}
          testId="no-desc-dropdown"
        />
      </div>
    </section>

    <!-- Compact Variant -->
    <section class="mb-12" data-testid="compact-variant">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Compact Variant</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          title="More"
          variant="compact"
          links={compactLinks}
          showDescriptions={false}
          testId="compact-dropdown"
        />
      </div>
    </section>

    <!-- Featured Variant -->
    <section class="mb-12" data-testid="featured-variant">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Featured Variant</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-md">
        <NavDropdown
          client:load
          title="Featured"
          variant="featured"
          links={featuredLinks}
          testId="featured-dropdown"
        />
      </div>
    </section>

    <!-- With Badges -->
    <section class="mb-12" data-testid="with-badges">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">With Badges</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          title="Blueprints"
          links={badgesLinks}
          testId="badges-dropdown"
        />
      </div>
    </section>

    <!-- With Footer Link -->
    <section class="mb-12" data-testid="with-footer">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">With Footer Link</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          title="Resources"
          links={footerLinks}
          footerLink={footerFooterLink}
          testId="footer-dropdown"
        />
      </div>
    </section>

    <!-- With Arrows -->
    <section class="mb-12" data-testid="with-arrows">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">With Arrows</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          title="Navigate"
          showArrows={true}
          links={arrowsLinks}
          showDescriptions={false}
          testId="arrows-dropdown"
        />
      </div>
    </section>

    <!-- Without Title -->
    <section class="mb-12" data-testid="no-title">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Without Title</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-xs">
        <NavDropdown
          client:load
          links={noTitleLinks}
          showDescriptions={false}
          testId="no-title-dropdown"
        />
      </div>
    </section>

    <!-- 3-Column Layout Example -->
    <section class="mb-12" data-testid="three-column">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">3-Column Layout (Mega Menu Pattern)</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <NavDropdown
            client:load
            title="Explore Lattice"
            links={col1Links}
            testId="col1-dropdown"
          />
          <NavDropdown
            client:load
            title="Configure"
            links={col2Links}
            testId="col2-dropdown"
          />
          <NavDropdown
            client:load
            title="More from Lattice"
            links={col3Links}
            showDescriptions={false}
            footerLink={col3FooterLink}
            testId="col3-dropdown"
          />
        </div>
      </div>
    </section>

    <!-- Featured Items Mix -->
    <section class="mb-12" data-testid="featured-mix">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Featured Items Mix</h2>
      <div class="bg-white border border-gray-200 rounded-xl p-6 max-w-md">
        <NavDropdown
          client:load
          title="Solutions"
          links={featuredMixLinks}
          testId="featured-mix-dropdown"
        />
      </div>
    </section>

    <!-- Real-World Mega Menu Example -->
    <section class="mb-12" data-testid="real-world-example">
      <h2 class="text-xl font-semibold mb-4 text-gray-500">Real-World Mega Menu Example</h2>
      <div class="bg-gray-50 rounded-xl p-8">
        <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-xl border border-gray-200 p-6">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <NavDropdown
              client:load
              title="By Role"
              links={roleLinks}
              testId="role-dropdown"
            />
            <NavDropdown
              client:load
              title="By Workload"
              links={workloadLinks}
              testId="workload-dropdown"
            />
            <NavDropdown
              client:load
              title="By Industry"
              links={industryLinks}
              showDescriptions={false}
              footerLink={industryFooterLink}
              testId="industry-dropdown"
            />
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>
