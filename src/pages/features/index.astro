---
import Layout from '@layouts/Layout.astro';
import Header from '@components/Header.vue';
import Footer from '@components/Footer.vue';
import FeatureCard from '@components/home/FeatureCard.vue';

// Icon SVGs for each feature
const icons = {
  sources: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>',
  lab: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>',
  studio: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',
  blueprints: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg>',
  scenarios: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>',
  stacks: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg>',
  settings: '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'
};

// Screenshots for each feature
const screenshots = {
  sources: '/images/journeys/view-source/view-source-03.png',
  lab: '/images/journeys/chat-with-ai/chat-with-ai-04.png',
  studio: '/images/journeys/view-artifact/view-artifact-02.png',
  blueprints: '/images/journeys/browse-blueprints/browse-blueprints-02.png',
  scenarios: '/images/journeys/create-scenario/create-scenario-01.png',
  stacks: '/images/journeys/create-stack/create-stack-01.png',
  settings: '/images/journeys/configure-settings/configure-settings-01.png'
};
---

<Layout
  title="Features - Lattice"
  description="Explore Lattice's seven powerful features: Sources, Lab, Studio, Blueprints, Scenarios, Stacks, and Settings for AI infrastructure decisions."
  keywords="Lattice features, Sources panel, Lab panel, Studio panel, Blueprints, Scenarios, Stacks, Settings, AI research"
>
  <Header client:load />

  <main data-testid="features-index">
    <!-- Hero Section -->
    <section class="py-20 bg-gradient-to-br from-violet-900 via-purple-900 to-blue-900" data-testid="features-hero">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
          <h1 class="text-4xl md:text-5xl font-bold text-white mb-6" data-testid="features-hero-title">
            Seven Features for AI Infrastructure
          </h1>
          <p class="text-xl text-white/80 leading-relaxed" data-testid="features-hero-description">
            Lattice combines knowledge management, AI-powered analysis, and infrastructure configuration in a unified interface designed for confident AI decisions.
          </p>
        </div>
      </div>
    </section>

    <!-- Core Panels Section -->
    <section class="py-20 bg-gray-50" data-testid="features-core-section">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4" data-testid="features-core-title">Core Panels</h2>
            <p class="text-gray-600 max-w-2xl mx-auto" data-testid="features-core-description">
              The three-panel interface for AI research, knowledge management, and artifact generation.
            </p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-testid="features-core-grid">
            <!-- Sources -->
            <FeatureCard
              client:load
              title="Sources"
              tagline="Your Knowledge, Indexed"
              description="Build a curated knowledge base from PDFs, URLs, GitHub repos, YouTube transcripts, and Google Docs."
              icon={icons.sources}
              screenshot={screenshots.sources}
              href="/features/sources"
              variant="violet"
              testId="features-sources-card"
            />

            <!-- Lab -->
            <FeatureCard
              client:load
              title="Lab"
              tagline="Research Agent"
              description="Chat with an AI research agent grounded in your sources. Get recommendations with transparent reasoning."
              icon={icons.lab}
              screenshot={screenshots.lab}
              href="/features/lab"
              variant="blue"
              testId="features-lab-card"
            />

            <!-- Studio -->
            <FeatureCard
              client:load
              title="Studio"
              tagline="Artifacts That Matter"
              description="Turn AI responses into reusable artifacts. Generate comparison tables, decision memos, and more."
              icon={icons.studio}
              screenshot={screenshots.studio}
              href="/features/studio"
              variant="teal"
              testId="features-studio-card"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Configuration Features Section -->
    <section class="py-20 bg-white" data-testid="features-config-section">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4" data-testid="features-config-title">Configuration</h2>
            <p class="text-gray-600 max-w-2xl mx-auto" data-testid="features-config-description">
              Define your requirements and configure your AI infrastructure for targeted recommendations.
            </p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-testid="features-config-grid">
            <!-- Scenarios -->
            <FeatureCard
              client:load
              title="Scenarios"
              tagline="Define Requirements"
              description="Define workload types, SLO requirements, and budget constraints for targeted recommendations."
              icon={icons.scenarios}
              screenshot={screenshots.scenarios}
              href="/features/scenarios"
              variant="amber"
              testId="features-scenarios-card"
            />

            <!-- Stacks -->
            <FeatureCard
              client:load
              title="Stacks"
              tagline="Configure Infrastructure"
              description="Configure AI infrastructure with model selection, hardware, and framework preferences."
              icon={icons.stacks}
              screenshot={screenshots.stacks}
              href="/features/stacks"
              variant="emerald"
              testId="features-stacks-card"
            />

            <!-- Settings -->
            <FeatureCard
              client:load
              title="Settings"
              tagline="Your Control Center"
              description="Personalize Lattice with API keys, model defaults, search behavior, and privacy controls."
              icon={icons.settings}
              screenshot={screenshots.settings}
              href="/features/settings"
              variant="default"
              testId="features-settings-card"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Blueprints Featured Section -->
    <section class="py-20 bg-gray-50" data-testid="features-blueprints-section">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4" data-testid="features-blueprints-title">Knowledge Bundles</h2>
            <p class="text-gray-600 max-w-2xl mx-auto" data-testid="features-blueprints-description">
              Pre-built configurations from leading AI vendors to jumpstart your research.
            </p>
          </div>
          <FeatureCard
            client:load
            title="Blueprints"
            tagline="34 Vendor Blueprints"
            description="Pre-configured knowledge bundles from Anthropic, AWS, NVIDIA, Google Cloud, and Azure. One-click workspace population with curated sources, scenarios, and stack configurations."
            icon={icons.blueprints}
            badge="34 Blueprints"
            screenshot={screenshots.blueprints}
            href="/features/blueprints"
            variant="purple"
            testId="features-blueprints-card"
          />
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-gradient-to-r from-violet-600 to-blue-600" data-testid="features-cta-section">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold text-white mb-4" data-testid="features-cta-title">
          Ready for Smart AI System Decisions?
        </h2>
        <p class="text-xl text-white/80 mb-8 max-w-2xl mx-auto" data-testid="features-cta-description">
          Get lifetime access to all features for a one-time payment.
        </p>
        <a
          href="/#pricing"
          class="inline-flex items-center px-8 py-4 bg-white text-violet-600 font-semibold rounded-xl hover:bg-gray-100 transition-colors"
          data-testid="features-cta-button"
        >
          Get Lattice for $99
        </a>
      </div>
    </section>
  </main>

  <Footer client:load />
</Layout>
